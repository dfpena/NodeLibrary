{"nodes":[{"nid":21,"uid":"custom","category":"function","type":"plotImage (SOM) Normalized","x":1036,"y":297,"fields":{"in":[{"name":"start"}],"out":[{"name":"pass"}]},"python":"@on_start\ndef addPlot|||(*args,**kwargs):\n    \n    matplotlib.rcParams['xtick.major.size'] = 0\n    matplotlib.rcParams['ytick.major.size'] = 0\n    matplotlib.rcParams['xtick.labelsize'] = 0\n    matplotlib.rcParams['ytick.labelsize'] = 0\n    # Get output grid\n    centroids = np.array(kwargs['Data'].get_centroids())\n    centroids[:,:,0] = centroids[:,:,0]/centroids[:,:,0].max()\n    centroids[:,:,1] = centroids[:,:,1]/centroids[:,:,1].max()\n    centroids[:,:,2] = centroids[:,:,2]/centroids[:,:,2].max()\n    centroids[:,:,3] = centroids[:,:,3]/centroids[:,:,3].max()\n    subjects = kwargs['Settings']['SOM']['Data'].subject\n    \n\n    if 'Figures' not in kwargs['Settings']:\n        kwargs['Settings']['Figures'] ={{}}\n    \n    kwargs['Settings']['Figures'][{userinput}] = plt.figure({userinput})\n    plt.imshow(centroids)\n    for i, m in enumerate(kwargs['Settings']['SOM']['Mapped']):\n        plt.text(\n            m[1],\n            m[0],\n            subjects[i],\n            ha='center',\n            va='center',\n            bbox=dict(\n                facecolor='white',\n                alpha=0.5,\n                lw=0))\n    plt.show() # Remove this line if you do not want your program to wait for this figure to render\n    \n    return kwargs\n","python_import":"from matplotlib import pyplot as plt\nimport matplotlib","python_exec":"addPlot|||","settings":[{"key":"userinput","label":"Figure Name"}],"icon":"./static/media/timer.ae907aa2.svg","data":{"id":"\"Normal\"","userinput":"'Self Organizing Map'"},"description":"","showExecution":false,"showDescription":false,"showImports":false,"showFunction":true,"toggleMarkdown":false,"toggleUserDialog":false,"stringDialog":"[{\"key\":\"userinput\",\"label\":\"Figure Name\"}]","stringPins":"{\"in\":[{\"name\":\"start\"}],\"out\":[{\"name\":\"pass\"}]}","togglePins":false,"headerStyle":{"background":"#adac15"}}],"connections":[],"title":"plotImage (SOM) Normalized","showPopup":false,"current":-1,"count":1,"servers":{},"serverselection":null}